@page "/examples/playground"
@namespace RizzyUI.Docs.Components.Pages.Examples.Playground
@using Microsoft.AspNetCore.Components.Forms
@using RizzyUI

<PageTitle>Playground</PageTitle>

<div class="hidden flex-1 flex-col md:flex h-[calc(100vh-4rem)]">
    <div class="container flex flex-col items-start justify-between gap-2 py-4 sm:flex-row sm:items-center sm:gap-0 md:h-16">
        <h2 class="pl-0.5 text-lg font-semibold">Playground</h2>
        <div class="ml-auto flex w-full gap-2 sm:justify-end">
            <EditForm Model="this" class="flex items-center gap-2">
                <RzNativeSelect class="w-[200px]" @bind-Value="_preset" For="@(() => _preset)">
                    <option value="">Load a preset...</option>
                    <RzNativeSelectOption Value="@("grammar")">Grammatical Standard English</RzNativeSelectOption>
                    <RzNativeSelectOption Value="@("summarize")">Summarize for a 2nd grader</RzNativeSelectOption>
                    <RzNativeSelectOption Value="@("qna")">Q&amp;A</RzNativeSelectOption>
                </RzNativeSelect>
            </EditForm>
            <RzButton Variant="ThemeVariant.Secondary">Save</RzButton>
            <div class="hidden gap-2 md:flex">
                <RzButton Variant="ThemeVariant.Secondary">View code</RzButton>
                <RzButton Variant="ThemeVariant.Secondary">Share</RzButton>
            </div>
            <RzButton Variant="ThemeVariant.Secondary" Size="Size.Small" class="size-8 p-0">...</RzButton>
        </div>
    </div>
    <RzSeparator />

    <EditForm Model="this" class="flex flex-1 flex-col">
        <RzTabs DefaultValue="complete" class="flex flex-1 flex-col">
            <div class="container flex flex-1 flex-col py-6">
                <div class="grid flex-1 items-stretch gap-6 md:grid-cols-[1fr_200px]">
                    <div class="hidden flex-col gap-6 sm:flex md:order-2">
                        <div class="grid gap-3">
                            <span class="text-sm font-medium">Mode</span>
                            <TabsList class="grid w-full grid-cols-3">
                                <TabsTrigger Value="complete">Complete</TabsTrigger>
                                <TabsTrigger Value="insert">Insert</TabsTrigger>
                                <TabsTrigger Value="edit">Edit</TabsTrigger>
                            </TabsList>
                        </div>

                        <div class="grid gap-3">
                            <FieldLabel For="@(() => Model)">Model</FieldLabel>
                            <RzNativeSelect @bind-Value="Model" For="@(() => Model)">
                                <RzNativeSelectOption Value="@("text-davinci-003")">text-davinci-003</RzNativeSelectOption>
                                <RzNativeSelectOption Value="@("text-curie-001")">text-curie-001</RzNativeSelectOption>
                            </RzNativeSelect>
                        </div>

                        <div class="grid gap-3">
                            <div class="flex items-center justify-between">
                                <FieldLabel For="@(() => Temperature)">Temperature</FieldLabel>
                                <span class="text-muted-foreground w-12 text-right text-sm">@Temperature</span>
                            </div>
                            <input type="range" max="1" step="0.1" @bind="Temperature" aria-label="Temperature" class="w-full accent-primary" />
                        </div>
                    </div>

                    <div class="flex flex-1 flex-col md:order-1">
                        <TabsContent Value="complete" class="mt-0 border-0 p-0 flex flex-1 flex-col h-full">
                            <div class="flex h-full flex-col gap-4 flex-1">
                                <RzInputTextArea For="@(() => InputComplete)" class="min-h-[400px] flex-1 p-4 md:min-h-[700px] lg:min-h-[700px]" Placeholder="Write a tagline for an ice cream shop" />
                                <div class="flex items-center gap-2">
                                    <RzButton>Submit</RzButton>
                                </div>
                            </div>
                        </TabsContent>
                        <TabsContent Value="insert" class="mt-0 border-0 p-0 flex flex-1 flex-col h-full">
                            <div class="grid h-full grid-rows-2 gap-6 lg:grid-cols-2 lg:grid-rows-1 flex-1">
                                <RzInputTextArea For="@(() => InputInsert)" class="h-full min-h-[300px] p-4 lg:min-h-[700px]" Placeholder="We're writing to [inset]. Congrats from OpenAI!" />
                                <div class="bg-muted rounded-md border"></div>
                            </div>
                        </TabsContent>
                    </div>
                </div>
            </div>
        </RzTabs>
    </EditForm>
</div>

@code {
    private string _preset = "";
    public string Model { get; set; } = "text-davinci-003";
    public double Temperature { get; set; } = 0.56;
    public int MaxLength { get; set; } = 256;
    public double TopP { get; set; } = 0.9;
    public string InputComplete { get; set; } = "";
    public string InputInsert { get; set; } = "";
    public string InputEdit { get; set; } = "";
    public string Instructions { get; set; } = "";
}
