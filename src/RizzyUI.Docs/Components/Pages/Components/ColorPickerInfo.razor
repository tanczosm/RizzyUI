@page "/components/color-picker"
@namespace RizzyUI.Docs.Components.Pages.Components

@using System.ComponentModel.DataAnnotations
@using RizzyUI
@using Microsoft.AspNetCore.Components.Forms

<PageTitle>Color Picker</PageTitle>

<RzQuickReferenceContainer>
    <RzArticle ProseWidth="ProseWidth.UltraWide">
        <MainContent>
            <RzBreadcrumb class="mb-4 not-prose">
                <BreadcrumbList>
                    <BreadcrumbItem>
                        <BreadcrumbLink Href="/" hx-boost="true" hx-select="#content" hx-target="#content" hx-swap="outerHTML">Docs</BreadcrumbLink>
                    </BreadcrumbItem>
                    <BreadcrumbSeparator />
                    <BreadcrumbItem>
                        <BreadcrumbLink Href="/components" hx-boost="true" hx-select="#content" hx-target="#content" hx-swap="outerHTML">Components</BreadcrumbLink>
                    </BreadcrumbItem>
                    <BreadcrumbSeparator />
                    <BreadcrumbItem>
                        <BreadcrumbPage>Color Picker</BreadcrumbPage>
                    </BreadcrumbItem>
                </BreadcrumbList>
            </RzBreadcrumb>

            <RzHeading Level="HeadingLevel.H1" QuickReferenceTitle="Color Picker">Color Picker</RzHeading>
            <RzParagraph>
                <code>RzColorPicker</code> provides a server-rendered input that upgrades to a Coloris popup using Alpine.js.
            </RzParagraph>

            <section class="my-8 space-y-4">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Basic">Basic</RzHeading>
                <RzBrowser Layout="typeof(PreviewLayout)">
                    <div class="mx-auto max-w-sm p-8">
                        <EditForm Model="_model">
                            <Field>
                                <FieldLabel For="@(() => _model.PrimaryColor)">Primary color</FieldLabel>
                                <RzColorPicker For="@(() => _model.PrimaryColor)" Value="@_model.PrimaryColor" />
                            </Field>
                        </EditForm>
                    </div>
                </RzBrowser>
            </section>

            <section class="my-8 space-y-4">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Alpha">Alpha Channel</RzHeading>
                <RzBrowser Layout="typeof(PreviewLayout)">
                    <div class="mx-auto max-w-sm p-8">
                        <EditForm Model="_model">
                            <Field>
                                <FieldLabel For="@(() => _model.OverlayColor)">Overlay color</FieldLabel>
                                <RzColorPicker For="@(() => _model.OverlayColor)" Value="@_model.OverlayColor" Alpha="true" Format="ColorFormat.Rgb" />
                            </Field>
                        </EditForm>
                    </div>
                </RzBrowser>
            </section>

            <section class="my-8 space-y-4">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Swatches">Swatches Only</RzHeading>
                <RzBrowser Layout="typeof(PreviewLayout)">
                    <div class="mx-auto max-w-sm p-8">
                        <EditForm Model="_model">
                            <Field>
                                <FieldLabel For="@(() => _model.AccentColor)">Accent color</FieldLabel>
                                <RzColorPicker For="@(() => _model.AccentColor)"
                                               Value="@_model.AccentColor"
                                               Swatches="_swatches"
                                               SwatchesOnly="true"
                                               CloseButton="true" />
                            </Field>
                        </EditForm>
                    </div>
                </RzBrowser>
            </section>

            <section class="my-8 space-y-4">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Thumbnail End">Thumbnail at End</RzHeading>
                <RzBrowser Layout="typeof(PreviewLayout)">
                    <div class="mx-auto max-w-sm p-8">
                        <EditForm Model="_model">
                            <Field>
                                <FieldLabel For="@(() => _model.NeutralColor)">Neutral color</FieldLabel>
                                <RzColorPicker For="@(() => _model.NeutralColor)"
                                               Value="@_model.NeutralColor"
                                               ThumbnailPosition="ColorPickerThumbnailPosition.End"
                                               Placeholder="Pick a neutral tone" />
                            </Field>
                        </EditForm>
                    </div>
                </RzBrowser>
            </section>

            <section class="my-8 space-y-4">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Clear Button">Clear Button</RzHeading>
                <RzBrowser Layout="typeof(PreviewLayout)">
                    <div class="mx-auto max-w-sm p-8">
                        <EditForm Model="_model">
                            <Field>
                                <FieldLabel For="@(() => _model.BorderColor)">Border color</FieldLabel>
                                <RzColorPicker For="@(() => _model.BorderColor)"
                                               Value="@_model.BorderColor"
                                               ClearButton="true"
                                               Swatches="_swatches"
                                               Placeholder="Optional border color" />
                            </Field>
                        </EditForm>
                    </div>
                </RzBrowser>
            </section>
        </MainContent>
    </RzArticle>
</RzQuickReferenceContainer>

@code {
    private readonly string[] _swatches = ["#ef4444", "#f59e0b", "#22c55e", "#3b82f6", "#a855f7"];

    private readonly ColorPickerModel _model = new();

    private sealed class ColorPickerModel
    {
        [Required]
        public string PrimaryColor { get; set; } = "#3b82f6";

        public string OverlayColor { get; set; } = "rgba(59,130,246,0.45)";

        public string AccentColor { get; set; } = "#22c55e";

        public string NeutralColor { get; set; } = "#64748b";

        public string BorderColor { get; set; } = "#d1d5db";
    }
}
